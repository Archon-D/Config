# url é‡Œå¡«å†™è‡ªå·±çš„è®¢é˜…,åç§°ä¸èƒ½é‡å¤
proxy-providers:
  provider1:
    url: ""
    type: http
    interval: 86400
    health-check: {enable: true,url: "https://www.gstatic.com/generate_204",interval: 300}
    override:
      additional-prefix: "[provider1]"

proxies: 
  - name: "ç›´è¿"
    type: direct
    udp: true

mixed-port: 7890
ipv6: true
allow-lan: true
unified-delay: false
tcp-concurrent: true
external-controller: 127.0.0.1:9090
external-ui: ui
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"

find-process-mode: strict
global-client-fingerprint: chrome

profile:
  store-selected: true
  store-fake-ip: true

sniffer:
  enable: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  skip-domain:
    - "Mijia Cloud"
    - "+.push.apple.com"

tun:
  enable: true
  stack: mixed
  dns-hijack:
    - "any:53"
    - "tcp://any:53"
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true

dns:
  enable: true
  ipv6: true
  respect-rules: true
  enhanced-mode: fake-ip
  fake-ip-filter:
    - "*"
    - "+.lan"
    - "+.local"
    - "+.market.xiaomi.com"
  nameserver:
    - https://120.53.53.53/dns-query
    - https://223.5.5.5/dns-query
  proxy-server-nameserver:
    - https://120.53.53.53/dns-query
    - https://223.5.5.5/dns-query
  nameserver-policy:
    "rule-set:cn_domain,private_domain":
      - https://120.53.53.53/dns-query
      - https://223.5.5.5/dns-query
    "rule-set:geolocation-!cn":
      - "https://dns.cloudflare.com/dns-query"
      - "https://dns.google/dns-query"

proxy-groups:

  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies: [SG|ç‹®åŸèŠ‚ç‚¹, HK|é¦™æ¸¯èŠ‚ç‚¹, CN|å°æ¹¾èŠ‚ç‚¹, JP|æ—¥æœ¬èŠ‚ç‚¹, USA|ç¾å›½èŠ‚ç‚¹, KR|éŸ©å›½èŠ‚ç‚¹, SP|ç‰¹æ®ŠèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½HQ, ğŸ‡¸ğŸ‡¬ ç‹®åŸHQ, ğŸ‡¯ğŸ‡µ æ—¥æœ¬HQ, ğŸ¯ å…¨çƒç›´è¿]

- name: ğŸ’¬ AI
    type: select
    proxies: [ğŸ‡¸ğŸ‡¬ ç‹®åŸHQ, ğŸ‡ºğŸ‡² ç¾å›½HQ, ğŸ‡¯ğŸ‡µ æ—¥æœ¬HQ]

- name: ğŸ¥ å›½é™…åª’ä½“
    type: select
    proxies: [HK|é¦™æ¸¯èŠ‚ç‚¹, JP|æ—¥æœ¬èŠ‚ç‚¹, USA|ç¾å›½èŠ‚ç‚¹, CN|å°æ¹¾èŠ‚ç‚¹, SG|ç‹®åŸèŠ‚ç‚¹, KR|éŸ©å›½èŠ‚ç‚¹, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]

- name: ğŸ“² ç”µæŠ¥æ¶ˆæ¯
    type: select
    proxies: [SG|ç‹®åŸèŠ‚ç‚¹, HK|é¦™æ¸¯èŠ‚ç‚¹, JP|æ—¥æœ¬èŠ‚ç‚¹, USA|ç¾å›½èŠ‚ç‚¹, CN|å°æ¹¾èŠ‚ç‚¹, KR|éŸ©å›½èŠ‚ç‚¹, SP|ç‰¹æ®ŠèŠ‚ç‚¹, ç»æµèŠ‚ç‚¹, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]

- name: ğŸŒ å›½å¤–ç½‘ç«™
    type: select
    proxies: [SG|ç‹®åŸèŠ‚ç‚¹, USA|ç¾å›½èŠ‚ç‚¹, HK|é¦™æ¸¯èŠ‚ç‚¹, JP|æ—¥æœ¬èŠ‚ç‚¹, KR|éŸ©å›½èŠ‚ç‚¹, CN|å°æ¹¾èŠ‚ç‚¹, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]

- name: ğŸ“¢ è°·æ­ŒæœåŠ¡
    type: select
    proxies: [USA|ç¾å›½èŠ‚ç‚¹, HK|é¦™æ¸¯èŠ‚ç‚¹, JP|æ—¥æœ¬èŠ‚ç‚¹, CN|å°æ¹¾èŠ‚ç‚¹, SG|ç‹®åŸèŠ‚ç‚¹, KR|éŸ©å›½èŠ‚ç‚¹, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]

- name: é£æ§
    type: select
    proxies: [ğŸ‡ºğŸ‡² ç¾å›½HQ, ğŸ‡¸ğŸ‡¬ ç‹®åŸHQ, ğŸ‡¯ğŸ‡µ æ—¥æœ¬HQ]

- name: ğŸ® æ¸¸æˆå¹³å°
    type: select
    proxies: [ğŸ¯ å…¨çƒç›´è¿, HK|é¦™æ¸¯èŠ‚ç‚¹, Game, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]

- name: ğŸ è‹¹æœæœåŠ¡
    type: select
    proxies: [ğŸ¯ å…¨çƒç›´è¿, HK|é¦™æ¸¯èŠ‚ç‚¹, USA|ç¾å›½èŠ‚ç‚¹, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]

- name: ğŸ¯ EMBY
    type: select
    proxies: [ğŸ¯ å…¨çƒç›´è¿, ç»æµèŠ‚ç‚¹, ğŸ¥ å›½é™…åª’ä½“, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]

- name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ¯ å…¨çƒç›´è¿, USA|ç¾å›½èŠ‚ç‚¹, JP|æ—¥æœ¬èŠ‚ç‚¹, SG|ç‹®åŸèŠ‚ç‚¹]

- name: Game
    type: url-test
    include-all: true
    filter: â€œ^(?=.*(?:Game)).*$â€

- name: ç»æµèŠ‚ç‚¹
    type: url-test
    include-all: true
    filter: â€œ^ECO.*$â€

  #åˆ†éš”,ä¸‹é¢æ˜¯åœ°åŒºåˆ†ç»„
- name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬HQ
    type: select
    include-all: true
    filter: â€œ^(?=HQ.*(?:æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|[^-]æ—¥|JP|Japan))(?!.*(?:æ¸¯|ç¾|éŸ©|æ–°|å°|Game)).*$â€

- name: ğŸ‡¸ğŸ‡¬ ç‹®åŸHQ
    type: select
    include-all: true
    filter: â€œ^(?=HQ.*(?:æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore))(?!.*(?:æ¸¯|ç¾|æ—¥|éŸ©|å°|Game)).*$â€

- name: ğŸ‡ºğŸ‡² ç¾å›½HQ
    type: select
    include-all: true
    filter: â€œ^(?=HQ.*(?:ç¾|US|States|American))(?!.*(?:æ¸¯|å°|æ—¥|éŸ©|æ–°|Game)).*$â€
    
- name: SP|å…¶ä»–èŠ‚ç‚¹
    type: url-test
    include-all: true
    filter: â€œ^SN(?!.*(æ¸¯|å°|æ—¥æœ¬|éŸ©|å¡|ç¾|HK|US|TW|JP|KR|SG|Hong|Tai|Japan|Korea|Singapore|States|å‰©ä½™|å¥—é¤|å®˜ç½‘|Game)).*$â€

- name: KR|éŸ©å›½èŠ‚ç‚¹
    type: url-test
    include-all: true
    filter: â€œ^(?=SN.*(?:KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“))(?!.*(?:æ¸¯|ç¾|æ—¥|æ–°|å°)).*$â€

- name: SG|ç‹®åŸèŠ‚ç‚¹
    type: url-test
    include-all: true
    filter: â€œ^(?=SN.*(?:æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore))(?!.*(?:æ¸¯|ç¾|æ—¥|éŸ©|å°)).*$â€

- name: CN|å°æ¹¾èŠ‚ç‚¹
    type: url-test
    include-all: true
    filter: â€œ^(?=SN.*(?:å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan))(?!.*(?:æ¸¯|ç¾|æ—¥|éŸ©|æ–°)).*$â€

- name: USA|ç¾å›½èŠ‚ç‚¹
    type: url-test
    include-all: true
    filter: â€œ^(?=SN.*(?:ç¾|US|States|American))(?!.*(?:æ¸¯|å°|æ—¥|éŸ©|æ–°)).*$â€

- name: JP|æ—¥æœ¬èŠ‚ç‚¹
    type: url-test
    include-all: true
    filter: â€œ^(?=SN.*(?:æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|[^-]æ—¥|JP|Japan))(?!.*(?:æ¸¯|ç¾|éŸ©|æ–°|å°)).*$â€

- name: HK|é¦™æ¸¯èŠ‚ç‚¹
    type: url-test
    include-all: true
    filter: â€œ^(?=SN.*(?:æ¸¯|HK|hk|Hong Kong|HongKong|hongkong))(?!.*(?:æ—¥æœ¬|ç¾|éŸ©|æ–°|å°)).*$â€
    
- name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies: [direct]

rules:
  - RULE-SET,private_ip,ç›´è¿,no-resolve
  - RULE-SET,Direct-diy,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Lan,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,GoogleVoice,é£æ§
  - RULE-SET,Talkatone,é£æ§
  - RULE-SET,Facebook,é£æ§
  - RULE-SET,PayPal,é£æ§
  - RULE-SET,TikTok,é£æ§
  - RULE-SET,OpenAI,ğŸ’¬ AI
  - RULE-SET,Claude,ğŸ’¬ AI
  - RULE-SET,Gemini,ğŸ’¬ AI
  - RULE-SET,Copilot,ğŸ’¬ AI
  - RULE-SET,AI-diy,ğŸ’¬ AI
  - RULE-SET,Telegram,ğŸ“² ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,GlobalMedia,ğŸ¥ å›½é™…åª’ä½“
  - RULE-SET,Google,ğŸ“¢ è°·æ­ŒæœåŠ¡
  - RULE-SET,ChinaMax,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Emby,ğŸ¯ EMBY
  - RULE-SET,Apple,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,Steam,ğŸ® æ¸¸æˆå¹³å°
  - RULE-SET,Proxy,ğŸŒ å›½å¤–ç½‘ç«™
  - RULE-SET,Privacy,block
  - RULE-SET,Advertising,block
  - RULE-SET,Advertising_diy,block
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

rule-anchor:
  ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: list}
  domain: &domain {type: http, interval: 86400, behavior: domain, format: list}
rule-providers:
  AI-diy:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/Archon-D/My-Config/main/Rule-diy/AI.list
Advertising:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Advertising.list
Advertising_diy:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Advertising_diy.list
Apple:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Apple.list
ChinaMax:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/ChinaMax.list
Claude:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Claude.list
Copilot:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Copilot.list
Direct-diy:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Direct.list
Emby:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Emby.list
Facebook:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Facebook.list
Gemini:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Gemini.list
GlobalMedia:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/GlobalMedia.list
Google:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Google.list
GoogleVoice:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/GoogleVoice.list
Lan:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Lan.list
Netflix:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Netflix.list
OpenAI:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/OpenAI.list
PayPal:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/PayPal.list
Privacy:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Privacy.list
Proxy:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Proxy.list
Steam:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Steam.list
Talkatone:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Talkatone.list
Telegram:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/Telegram.list
TikTok:
  '<<': '*domain'
  url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/rule/TikTok.list
